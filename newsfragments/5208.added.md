Introspection and sub generation: add basic return type support